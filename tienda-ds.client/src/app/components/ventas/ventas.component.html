<div class="ventas-container">
  <h2>GestiÃ³n de Ventas</h2>

  <a class="btn-primary" routerLink="/ventas/nuevo">Nueva Venta</a>

  <p *ngIf="loading && ventas.length === 0" class="loading">Cargando ventas...</p>

  <div *ngIf="error" class="error">
    <p>{{ error }}</p>
    <button class="btn-primary" (click)="loadVentas()">Reintentar</button>
  </div>

  <table *ngIf="ventas.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Fecha</th>
        <th>Vendedor</th>
        <th>Cliente</th>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Total</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let venta of ventas">
        <td>{{ venta.IdVenta }}</td>
        <td>{{ venta.Fecha | date:'dd/MM/yyyy' }}</td>
        <td>{{ venta.NombreVendedor || '-' }}</td>
        <td>{{ venta.NombreCliente || '-' }}</td>
        <td>{{ venta.NombreProducto || '-' }}</td>
        <td>{{ venta.Cantidad }}</td>
        <td>{{ venta.TotalVenta | currency }}</td>
        <td>
          <a class="btn-edit" [routerLink]="['/ventas/editar', venta.IdVenta]">Editar</a>
          <button class="btn-delete" (click)="deleteVenta(venta.IdVenta)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="!loading && !error && ventas.length === 0">No hay ventas registradas.</p>
</div>
